class DataSimulator{constructor(){this.startTime=Date.now(),this.baseData=this.initializeBaseData(),this.fluctuationRanges=this.initializeFluctuationRanges(),this.crewMembers=this.initializeCrewMembers()}initializeBaseData(){return{power:{generation:85,consumption:72,efficiency:88,fuel:67},lifeSupport:{oxygen:95,co2:12,pressure:1.02,temperature:21.5},navigation:{coordinates:{x:-2847.3,y:1592.7,z:-834.2},heading:127.4,velocity:.15,destination:"LV-426",eta:new Date(Date.now()+2592e5)}}}initializeFluctuationRanges(){return{power:{generation:{min:-5,max:3},consumption:{min:-8,max:12},efficiency:{min:-3,max:2},fuel:{min:-.1,max:0}},lifeSupport:{oxygen:{min:-2,max:1},co2:{min:-1,max:3},pressure:{min:-.05,max:.03},temperature:{min:-1.5,max:2}},navigation:{coordinates:{min:-.1,max:.1},heading:{min:-.5,max:.5},velocity:{min:-.01,max:.01}}}}initializeCrewMembers(){return[{id:"CREW001",name:"DALLAS",location:"BRIDGE",status:"active",vitals:{heartRate:72,temperature:36.8,oxygenSat:98}},{id:"CREW002",name:"RIPLEY",location:"ENGINEERING",status:"active",vitals:{heartRate:68,temperature:36.6,oxygenSat:99}},{id:"CREW003",name:"KANE",location:"QUARTERS",status:"resting",vitals:{heartRate:58,temperature:36.4,oxygenSat:97}},{id:"CREW004",name:"LAMBERT",location:"NAVIGATION",status:"active",vitals:{heartRate:75,temperature:36.9,oxygenSat:98}},{id:"CREW005",name:"BRETT",location:"MAINTENANCE",status:"active",vitals:{heartRate:80,temperature:37.1,oxygenSat:96}},{id:"CREW006",name:"PARKER",location:"ENGINEERING",status:"active",vitals:{heartRate:77,temperature:37,oxygenSat:97}},{id:"CREW007",name:"ASH",location:"SCIENCE",status:"active",vitals:{heartRate:65,temperature:36.5,oxygenSat:99}}]}generateFluctuation(baseValue,range,timeOffset=0){const elapsed=(Date.now()-this.startTime+timeOffset)/1e3;return baseValue+(.3*Math.sin(elapsed/30)+.1*Math.sin(elapsed/5)+.2*(Math.random()-.5))*((range.max-range.min)/2)+(range.max+range.min)/2}generatePowerData(){const power=this.baseData.power,ranges=this.fluctuationRanges.power,generation=Math.max(0,Math.min(100,this.generateFluctuation(power.generation,ranges.generation))),consumption=Math.max(0,Math.min(100,this.generateFluctuation(power.consumption,ranges.consumption,1e3))),efficiency=Math.max(0,Math.min(100,this.generateFluctuation(power.efficiency,ranges.efficiency,2e3))),fuelDecrease=(Date.now()-this.startTime)/36e5*.01,fuel=Math.max(0,Math.min(100,power.fuel-fuelDecrease+this.generateFluctuation(0,ranges.fuel,3e3)));return{generation:Math.round(10*generation)/10,consumption:Math.round(10*consumption)/10,efficiency:Math.round(10*efficiency)/10,fuel:Math.round(10*fuel)/10,netPower:Math.round(10*(generation-consumption))/10}}generateLifeSupportData(){const lifeSupport=this.baseData.lifeSupport,ranges=this.fluctuationRanges.lifeSupport,oxygen=Math.max(0,Math.min(100,this.generateFluctuation(lifeSupport.oxygen,ranges.oxygen))),co2=Math.max(0,Math.min(50,this.generateFluctuation(lifeSupport.co2,ranges.co2,1500))),pressure=Math.max(.8,Math.min(1.2,this.generateFluctuation(lifeSupport.pressure,ranges.pressure,2500))),temperature=Math.max(18,Math.min(24,this.generateFluctuation(lifeSupport.temperature,ranges.temperature,3500)));return{oxygen:Math.round(10*oxygen)/10,co2:Math.round(10*co2)/10,pressure:Math.round(100*pressure)/100,temperature:Math.round(10*temperature)/10}}generateNavigationData(){const nav=this.baseData.navigation,ranges=this.fluctuationRanges.navigation,coordinates_x=nav.coordinates.x+this.generateFluctuation(0,ranges.coordinates,1e3),coordinates_y=nav.coordinates.y+this.generateFluctuation(0,ranges.coordinates,2e3),coordinates_z=nav.coordinates.z+this.generateFluctuation(0,ranges.coordinates,3e3),heading=nav.heading+this.generateFluctuation(0,ranges.heading,4e3),velocity=Math.max(0,nav.velocity+this.generateFluctuation(0,ranges.velocity,5e3));return{coordinates:{x:Math.round(10*coordinates_x)/10,y:Math.round(10*coordinates_y)/10,z:Math.round(10*coordinates_z)/10},heading:Math.round((heading%360+360)%360*10)/10,velocity:Math.round(1e3*velocity)/1e3,destination:nav.destination,eta:nav.eta}}generateCrewData(){return this.crewMembers.map((member,index)=>{const timeOffset=1e3*index,heartRate=Math.max(50,Math.min(120,member.vitals.heartRate+this.generateFluctuation(0,{min:-5,max:8},timeOffset))),temperature=Math.max(35,Math.min(38.5,member.vitals.temperature+this.generateFluctuation(0,{min:-.3,max:.5},timeOffset+500))),oxygenSat=Math.max(90,Math.min(100,member.vitals.oxygenSat+this.generateFluctuation(0,{min:-2,max:1},timeOffset+1e3)));return{...member,vitals:{heartRate:Math.round(heartRate),temperature:Math.round(10*temperature)/10,oxygenSat:Math.round(oxygenSat)}}})}generateSystemStatus(){return{timestamp:new Date,power:this.generatePowerData(),lifeSupport:this.generateLifeSupportData(),navigation:this.generateNavigationData(),crew:this.generateCrewData()}}validateData(data){const errors=[];return(data.power.generation<0||data.power.generation>100)&&errors.push(`Power generation out of range: ${data.power.generation}`),(data.power.consumption<0||data.power.consumption>100)&&errors.push(`Power consumption out of range: ${data.power.consumption}`),(data.power.fuel<0||data.power.fuel>100)&&errors.push(`Fuel level out of range: ${data.power.fuel}`),(data.lifeSupport.oxygen<0||data.lifeSupport.oxygen>100)&&errors.push(`Oxygen level out of range: ${data.lifeSupport.oxygen}`),(data.lifeSupport.pressure<.8||data.lifeSupport.pressure>1.2)&&errors.push(`Pressure out of range: ${data.lifeSupport.pressure}`),(data.lifeSupport.temperature<18||data.lifeSupport.temperature>24)&&errors.push(`Temperature out of range: ${data.lifeSupport.temperature}`),data.crew.forEach((member,index)=>{(member.vitals.heartRate<50||member.vitals.heartRate>120)&&errors.push(`Crew ${index} heart rate out of range: ${member.vitals.heartRate}`),(member.vitals.oxygenSat<90||member.vitals.oxygenSat>100)&&errors.push(`Crew ${index} oxygen saturation out of range: ${member.vitals.oxygenSat}`)}),errors}}"undefined"!=typeof module&&module.exports?module.exports=DataSimulator:window.DataSimulator=DataSimulator;