let dataSimulator,audioManager,router,dashboard,lifeSupport,engineering,crew,bootSequence;function initializeDataSimulator(){"undefined"!=typeof DataSimulator?(dataSimulator=new DataSimulator,console.log("Data simulator initialized")):console.warn("DataSimulator not available - ensure data-simulator.js is loaded")}function initializeAudioManager(){"undefined"!=typeof NostromoAudioManager?(audioManager=new NostromoAudioManager,window.audioManager=audioManager,console.log("Audio manager initialized")):console.warn("NostromoAudioManager not available - ensure audio-manager.js is loaded")}function initializeBootSequence(){"undefined"!=typeof NostromoBootSequence?(bootSequence=new NostromoBootSequence,window.bootSequence=bootSequence,console.log("Boot sequence initialized")):console.warn("NostromoBootSequence not available - ensure boot-sequence.js is loaded")}function initializeRouter(){"undefined"!=typeof NostromoRouter?(router=new NostromoRouter,console.log("Router initialized")):console.error("NostromoRouter not available - ensure router.js is loaded")}function initializeDashboard(){"undefined"!=typeof NostromoDashboard&&dataSimulator?(dashboard=new NostromoDashboard(dataSimulator),window.dashboard=dashboard,console.log("Dashboard initialized")):console.warn("Dashboard or DataSimulator not available")}function initializeLifeSupport(){"undefined"!=typeof NostromoLifeSupport&&dataSimulator?(lifeSupport=new NostromoLifeSupport(dataSimulator),window.lifeSupport=lifeSupport,console.log("Life Support system initialized")):console.warn("Life Support or DataSimulator not available")}function initializeNavigationSystem(){if("undefined"!=typeof NostromoNavigation&&dataSimulator){const navigation=new NostromoNavigation(dataSimulator);window.navigation=navigation,console.log("Navigation system initialized")}else console.warn("Navigation system or DataSimulator not available")}function initializeEngineering(){"undefined"!=typeof NostromoEngineering&&dataSimulator?(engineering=new NostromoEngineering(dataSimulator),window.engineering=engineering,console.log("Engineering system initialized")):console.warn("Engineering system or DataSimulator not available")}function initializeCrew(){"undefined"!=typeof NostromoCrew&&dataSimulator?(crew=new NostromoCrew(dataSimulator),window.crew=crew,console.log("Crew monitoring system initialized")):console.warn("Crew monitoring system or DataSimulator not available")}function updateSystemTime(){const timeElement=document.getElementById("system-time");if(timeElement){const now=new Date,timeString=`2122-06-02 ${now.getHours().toString().padStart(2,"0")}:${now.getMinutes().toString().padStart(2,"0")}:${now.getSeconds().toString().padStart(2,"0")}`;timeElement.textContent=timeString}}async function startApplicationBootSequence(){bootSequence&&bootSequence.shouldShowBootSequence()?(await bootSequence.startBootSequence(),bootSequence.markBootSequenceComplete()):router&&router.navigateTo("dashboard",!1)}function initializeNavigation(){document.querySelectorAll(".nav-item[data-screen]").forEach(item=>{item.addEventListener("click",function(event){event.preventDefault();const screen=this.dataset.screen;screen&&router&&(audioManager&&audioManager.playNavigation(),router.goTo(screen))})})}function initializeKeyboardControls(){document.addEventListener("keydown",function(event){audioManager&&1===event.key.length&&audioManager.playKeypress();const bootScreen=document.getElementById("boot-screen");return bootScreen&&bootScreen.classList.contains("active")?(event.preventDefault(),void(bootSequence?bootSequence.completeBootSequence():router&&router.completeBootSequence())):router&&router.handleHotkey(event.key)?(event.preventDefault(),void(audioManager&&audioManager.playNavigation())):void("F8"===event.key&&(event.preventDefault(),toggleAudio()))})}function toggleAudio(){if(audioManager){const isMuted=audioManager.toggleMute();console.log("Audio "+(isMuted?"muted":"unmuted"))}else console.warn("Audio manager not available")}function handleRouteChange(event){const{newRoute:newRoute,previousRoute:previousRoute}=event.detail;console.log(`Route changed from ${previousRoute} to ${newRoute}`),updateSystemStatus(newRoute)}function updateSystemStatus(currentRoute){const statusElement=document.getElementById("main-status");statusElement&&(statusElement.textContent="OPERATIONAL",statusElement.className="status-ok")}document.addEventListener("DOMContentLoaded",function(){initializeDataSimulator(),initializeAudioManager(),initializeBootSequence(),initializeRouter(),initializeDashboard(),initializeLifeSupport(),initializeNavigationSystem(),initializeEngineering(),initializeCrew(),updateSystemTime(),setInterval(updateSystemTime,1e3),initializeNavigation(),initializeKeyboardControls(),window.addEventListener("routechange",handleRouteChange),startApplicationBootSequence()});